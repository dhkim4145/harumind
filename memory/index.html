<!doctype html>
<html lang="ko">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />

<!-- ë„¤ì´ë²„ ì‚¬ì´íŠ¸ ì†Œìœ í™•ì¸ -->
<meta name="naver-site-verification" content="9a17421f3eca307a085f00983e810d49b7172fdd" />
  
<title>ê°™ì€ ê·¸ë¦¼ ì°¾ê¸° ê²Œì„ | í•˜ë£¨ë§ˆìŒ ì¸ì§€ìê·¹ ë‘ë‡Œë†€ì´</title>

<meta name="description"
        content="ëˆ„êµ¬ë‚˜ í¸í•˜ê²Œ ì¦ê¸¸ ìˆ˜ ìˆëŠ” ê°™ì€ ê·¸ë¦¼ ì°¾ê¸° ì¸ì§€ ìê·¹ ê²Œì„ì…ë‹ˆë‹¤. í•˜ë£¨ 5ë¶„ ë‘ë‡Œë†€ì´ë¡œ ì§‘ì¤‘ë ¥ê³¼ ê¸°ì–µë ¥ì„ ìê·¹í•´ë³´ì„¸ìš”." />  

<!-- Open Graph (ì¹´í†¡/ë„¤ì´ë²„ ê³µìœ ìš©) -->
<meta property="og:type" content="website" />
<meta property="og:site_name" content="í•˜ë£¨ë§ˆìŒ" />
<meta property="og:title" content="ê°™ì€ ê·¸ë¦¼ ì°¾ê¸° ê²Œì„ | í•˜ë£¨ë§ˆìŒ ì¸ì§€ìê·¹ ë‘ë‡Œë†€ì´" />
<meta property="og:description" content="ëˆ„êµ¬ë‚˜ í¸í•˜ê²Œ ì¦ê¸¸ ìˆ˜ ìˆëŠ” ê°™ì€ ê·¸ë¦¼ ì°¾ê¸° ì¸ì§€ ìê·¹ ê²Œì„ì…ë‹ˆë‹¤. í•˜ë£¨ 5ë¶„ ë‘ë‡Œë†€ì´ë¡œ ì§‘ì¤‘ë ¥ê³¼ ê¸°ì–µë ¥ì„ ìê·¹í•´ë³´ì„¸ìš”." />
<meta property="og:url" content="https://harumind.kr/memory/" />

<!-- Twitter Card (ê²¸ì‚¬ê²¸ì‚¬) -->
<meta name="twitter:card" content="summary_large_image" />
<meta name="twitter:image" content="https://harumind.kr/og.png" />
<meta name="twitter:title" content="ê°™ì€ ê·¸ë¦¼ ì°¾ê¸° ê²Œì„ | í•˜ë£¨ë§ˆìŒ" />
<meta name="twitter:description" content="í•˜ë£¨ 5ë¶„, ê°™ì€ ê·¸ë¦¼ ì°¾ê¸° ë‘ë‡Œë†€ì´. ëˆ„êµ¬ë‚˜ ì‰½ê²Œ ì‹œì‘í•´ìš”." />
  
<meta property="og:image" content="https://harumind.kr/og.png" />
<meta property="og:image:width" content="1200" />
<meta property="og:image:height" content="630" />
  
<!-- Google Analytics 4 (í•„ìš” ì—†ìœ¼ë©´ ì‚­ì œ ê°€ëŠ¥) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-JX8PENN22H"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-JX8PENN22H');
</script>

<style>
#bigBtn.bigOn  { font-size: 1.05em; }
#bigBtn.bigOff { font-size: 1em; }

:root{
  --bg:#0b1020;
  --text:#e8ecff;
  --muted:#b9c2ff;
  --accent:#6ee7b7;
  --shadow:0 10px 25px rgba(0,0,0,.35);
  --radius:18px;

  --fs-base:16px;
  --fs-title:20px;
  --fs-msg:18px;
  --fs-hint:14px;
  --fs-pill:14px;

  --tile-h:90px;
  --tile-fs:42px;
  --gap:12px;
}

*{box-sizing:border-box;}

/* âœ… í´ë¦­ ì‹œ í™”ë©´ í”ë“¤ë¦¼(ê°€ë¡œ ìŠ¤í¬ë¡¤) ë°©ì§€ */
html, body { overflow-x:hidden; }

body{
  margin:0;
  font-family: system-ui,-apple-system,Segoe UI,Roboto,"Noto Sans KR",sans-serif;
  background: radial-gradient(1200px 800px at 30% 10%, #1b2457 0%, var(--bg) 55%, #050813 100%);
  color:var(--text);
  display:flex;
  justify-content:center;
  padding:18px;
  font-size:var(--fs-base);
}

/* í° ê¸€ì”¨ ëª¨ë“œ */
body.bigText{
  --fs-base:18px;
  --fs-title:24px;
  --fs-msg:22px;
  --fs-hint:16px;
  --fs-pill:16px;
  --tile-h:104px;
  --tile-fs:52px;
  --gap:14px;
}

.wrap{
  width:min(560px,100%);
  display:flex;
  flex-direction:column;
  gap:14px;
}

.card{
  background: linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,.03));
  border:1px solid rgba(255,255,255,.08);
  border-radius:var(--radius);
  box-shadow:var(--shadow);
  padding:16px;
}

.titleRow{
  display:flex;
  align-items:flex-start;
  justify-content:space-between;
  gap:10px;
}

.title{
  font-size:var(--fs-title);
  font-weight:900;
}

.sub{
  font-size:14px;
  color:var(--muted);
  margin-top:6px;
}

/* âœ… (ìˆ˜ì •1) ìš°ìƒë‹¨ ì„¤ì • ë²„íŠ¼ ì˜ì—­ */
.titleActions{
  display:flex;
  align-items:center;
  gap:10px;
}

/* ê¸°ë³¸(PC): ìˆ¨ê¹€, ëª¨ë°”ì¼ì—ì„œë§Œ ë³´ì´ê²Œ */
#settingsBtn{
  display:none;
  border-radius:999px;
  border:1px solid rgba(255,255,255,.18);
  background:rgba(255,255,255,.08);
  color:var(--text);
  padding:8px 10px;
  cursor:pointer;
  line-height:1;
}

/* ===== ì˜¤ëŠ˜ í˜„í™© ===== */
.statsHeader{
  margin-top:10px;
  display:flex;
  justify-content:flex-end;
  align-items:center;
}

.statsToggle{
  font-size:14px;
  border-radius:999px;
  border:1px solid rgba(255,255,255,.18);
  background:rgba(255,255,255,.08);
  color:var(--text);
  padding:8px 12px;
  cursor:pointer;
  display:inline-flex;
  align-items:center;
  gap:8px;
}

.chev{
  display:inline-block;
  transition:transform .18s ease;
  opacity:.9;
}

#statsWrap.isOpen .chev{
  transform:rotate(180deg);
}

/* âœ… (ìˆ˜ì •2) ì˜¤ëŠ˜ í˜„í™© 2ì—´ ê·¸ë¦¬ë“œë¡œ ì •ë¦¬ */
.stats{
  display:grid;
  grid-template-columns: repeat(2, minmax(0, 1fr));
  gap:10px;
  margin-top:12px;
}

.pill{
  background:rgba(255,255,255,.07);
  border:1px solid rgba(255,255,255,.12);
  border-radius:999px;
  padding:6px 12px;
  font-size:var(--fs-pill);

  display:flex;
  align-items:center;
  justify-content:space-between;
  gap:10px;
  min-width:0;
}
.pill b{ white-space:nowrap; }

/* ê¸°ì¡´ ì¤„ë°”ê¿ˆ ìš”ì†ŒëŠ” ì˜í–¥ ì—†ê²Œ ì²˜ë¦¬ */
.stats-break{ display:none; }

/* ì•ˆë‚´ ë¬¸êµ¬ + êµ¬ë¶„ì„ (ì§„í•˜ê²Œ) */
.statsNote{
  margin-top:10px;
  font-size:12px;
  color:var(--muted);
}
.statsDivider{
  margin-top:10px;
  border-top:2px solid rgba(255,255,255,.22);
}

/* ê¸°ë³¸: ë‹«í˜ */
#statsWrap:not(.isOpen) .stats,
#statsWrap:not(.isOpen) .statsNote,
#statsWrap:not(.isOpen) .statsDivider{
  display:none;
}

/* ===== ì»¨íŠ¸ë¡¤ ===== */
.controls{
  display:flex;
  gap:10px;
  flex-wrap:wrap;
  margin-top:12px;
}

button, select{
  font-size:16px;
  border-radius:999px;
  border:1px solid rgba(255,255,255,.15);
  background:rgba(255,255,255,.08);
  color:var(--text);
  padding:10px 14px;
  cursor:pointer;
}

select#level{
  font-weight:600;
  background:rgba(255,255,255,.08);
  border:1px solid rgba(255,255,255,.18);
  color: var(--text);
}

select#level option{
  color:#1f2937;
  background:#ffffff;
}

select#level option:checked{
  background:#e6f4ee;
  color:#0f172a;
  font-weight:700;
}

button.primary{
  background:rgba(110,231,183,.18);
  border-color:rgba(110,231,183,.45);
}

/* ë©”ì‹œì§€ */
.messageCard{
  min-height:92px;
}
#msg{
  font-size:var(--fs-msg);
  font-weight:900;
  white-space:pre-line;
  min-height:28px;
}
#hint{
  font-size:var(--fs-hint);
  color:var(--muted);
  margin-top:4px;
  min-height:22px;
  white-space:pre-line;
}

/* ë³´ë“œ */
.board{
  display:grid;
  gap:var(--gap);
}

.tile{
  height:var(--tile-h);
  border-radius:18px;
  background:linear-gradient(180deg, rgba(255,255,255,.08), rgba(255,255,255,.03));
  border:1px solid rgba(255,255,255,.12);
  display:flex;
  align-items:center;
  justify-content:center;
  font-size:var(--tile-fs);
  cursor:pointer;
  user-select:none;
  position:relative;
}

.tile[data-state="down"]::after{content:"?";font-weight:900;}
.tile[data-state="up"]::after{content:attr(data-emoji);}

.tile.matched{
  border-color:var(--accent);
  box-shadow:0 0 0 2px rgba(110,231,183,.35) inset;
}

/* âœ… ë¦¬ì›Œë“œ(+10) ìˆ«ì */
.reward{
  position:fixed;
  z-index:9999;
  transform: translate(-50%, -50%);
  pointer-events:none;
  font-weight:900;
  font-size:18px;
  color:var(--accent);
  text-shadow:0 6px 18px rgba(0,0,0,.55);
  will-change: transform, opacity;
  animation: rewardFloat .9s ease forwards;
}
@keyframes rewardFloat{
  0%   { opacity:0; transform: translate(-50%, -35%) scale(.95); }
  15%  { opacity:1; }
  100% { opacity:0; transform: translate(-50%, -95%) scale(1.05); }
}

/* ===== ë°©ë²• ë³´ê¸° ëª¨ë‹¬ ===== */
#modalBack{
  position:fixed;
  inset:0;
  background:rgba(0,0,0,.45);
  z-index:9000;
  display:none;
  align-items:center;
  justify-content:center;
  padding:18px;
}

#modalCard{
  width:min(520px, 100%);
  background:#141b3f;
  border:1px solid rgba(255,255,255,.10);
  border-radius:22px;
  box-shadow:0 18px 48px rgba(0,0,0,.55);
  padding:18px 18px 16px;
}

.modalTitle{
  font-weight:900;
  font-size:18px;
}

.modalBody{
  margin-top:10px;
  line-height:1.8;
  color:var(--muted);
  font-size:14px;
}

.modalStep{
  display:flex;
  gap:10px;
  margin:10px 0;
}

.modalNum{
  width:26px;
  height:26px;
  border-radius:999px;
  background:rgba(110,231,183,.18);
  border:1px solid rgba(110,231,183,.45);
  display:flex;
  align-items:center;
  justify-content:center;
  font-weight:800;
  color:var(--text);
  flex:0 0 auto;
}

.modalActions{
  margin-top:14px;
  display:flex;
  justify-content:flex-end;
  gap:10px;
}

.modalActions button{
  font-size:16px;
  border-radius:999px;
  border:1px solid rgba(255,255,255,.18);
  background:rgba(255,255,255,.08);
  color:var(--text);
  padding:10px 14px;
  cursor:pointer;
}

/* ===========================
   âœ… ëª¨ë°”ì¼ì—ì„œë§Œ ìš°ìƒë‹¨ âš™ï¸ë¡œ ì˜µì…˜ 3ê°œ ë¬¶ê¸°
   - PC: ì˜µì…˜ ë²„íŠ¼ ê·¸ëŒ€ë¡œ ë…¸ì¶œ
   - ëª¨ë°”ì¼: ì˜µì…˜ì€ ìˆ¨ê¹€, ìš°ìƒë‹¨ âš™ï¸ ëˆ„ë¥´ë©´ ì—´ë¦¼
   =========================== */

#settingsGroup{ display: contents; }   /* PC ê¸°ë³¸ */

/* ëª¨ë°”ì¼(ê°€ë¡œí­ ì‘ì€ í™”ë©´)ì—ì„œë§Œ ì ìš© */
@media (max-width:520px){
  #settingsBtn{ display:inline-flex; } /* ëª¨ë°”ì¼ ìš°ìƒë‹¨ âš™ï¸ í‘œì‹œ */

  #settingsGroup{
    display:flex;
    gap:10px;
    flex-wrap:wrap;
    width:100%;
  }

  /* ê¸°ë³¸ ë‹«í˜ */
  #settingsGroup.isClosed{ display:none; }
}
</style>
</head>

<body>
<div class="wrap">

  <div class="card">
    <div class="titleRow">
      <div>
        <div class="title">ê°™ì€ ê·¸ë¦¼ ì°¾ê¸°</div>
        <div class="sub">ê°™ì€ ê·¸ë¦¼ 2ê°œë¥¼ ì²œì²œíˆ ì°¾ì•„ë³´ì„¸ìš” ğŸ™‚</div>
      </div>

      <!-- âœ… (ìˆ˜ì •1) ìš°ìƒë‹¨ ì„¤ì • ë²„íŠ¼(ëª¨ë°”ì¼ì—ì„œë§Œ ë³´ì„) -->
      <div class="titleActions">
        <button id="settingsBtn" type="button" aria-expanded="false" aria-label="ì„¤ì • ì—´ê¸°">âš™ï¸</button>
      </div>
    </div>

    <div id="statsWrap">
      <div class="statsHeader">
        <button class="statsToggle" id="statsToggle" type="button" aria-expanded="false">
          ì˜¤ëŠ˜ í˜„í™© <span class="chev">âˆ¨</span>
        </button>
      </div>

      <!-- âœ… (ìˆ˜ì •2) 2ì—´ ê·¸ë¦¬ë“œ -->
      <div class="stats">
        <div class="pill"><span>ë§ì¶˜ ì¹´ë“œ</span> <b id="matched">0</b></div>
        <div class="pill"><span>ì¹­ì°¬ ì ìˆ˜</span> <b id="score">0</b></div>
        <div class="pill"><span>ì˜¤ëŠ˜ í•œ íšŸìˆ˜</span> <b><span id="todayClear">0</span>íšŒ</b></div>
        <div class="pill"><span>ì˜¤ëŠ˜ ê°€ì¥ ë†’ì€ ì ìˆ˜</span> <b><span id="todayBest">0</span>ì </b></div>
      </div>

      <div class="statsNote">* ì˜¤ëŠ˜ í•œ íšŸìˆ˜, ìµœê³  ì ìˆ˜ëŠ” ì´ ê¸°ê¸°ì—ë§Œ ì €ì¥ë¼ìš”.</div>
      <div class="statsDivider"></div>
    </div>

    <div class="controls">
      <select id="level" title="ë‚œì´ë„ ì„ íƒ">
        <option value="2x2">ì‰¬ì›€ (2x2)</option>
        <option value="3x2" selected>ë³´í†µ (3x2)</option>
        <option value="4x3">ì–´ë ¤ì›€ (4x3)</option>
      </select>

      <button class="primary" id="newGame">ìƒˆë¡œ ì‹œì‘</button>
      <button id="peekBtn" type="button" title="ì¹´ë“œë¥¼ 2ì´ˆ ë™ì•ˆ ë³´ì—¬ì¤˜ìš”">ğŸ‘€ ì ê¹ë³´ê¸° (2ì´ˆ)</button>
      <button id="howBtn" type="button">ë°©ë²• ë³´ê¸°</button>

      <!-- âœ… ì˜µì…˜(PCëŠ” ê³„ì† ë³´ì„ / ëª¨ë°”ì¼ì€ âš™ï¸ë¡œ ì—´ë¦¼) -->
      <span id="settingsGroup">
        <button id="sfxBtn" type="button">ğŸ”” íš¨ê³¼ìŒ</button>
        <button id="bigBtn" type="button">ğŸ” í° ê¸€ì”¨</button>
        <button id="bgmBtn" type="button">ğŸµ ë°°ê²½ìŒì•…</button>
      </span>
    </div>

    <!-- game.jsê°€ ì“°ëŠ” selectëŠ” ìœ ì§€ -->
    <select id="peekSec" style="display:none">
      <option value="2">2</option>
    </select>

    <!-- todayKeyëŠ” storage/uiì—ì„œ ì“°ëŠ” ê²½ìš°ê°€ ìˆì–´ ìˆ¨ê¹€ìœ¼ë¡œ ìœ ì§€ -->
    <div style="display:none"><span id="todayKey"></span></div>
  </div>

  <div class="card messageCard">
    <div id="msg">ì¹´ë“œë¥¼ ëˆŒëŸ¬ì„œ ì‹œì‘í•´ìš” ğŸ™‚</div>
    <div id="hint">ì²˜ìŒì—” ì²œì²œíˆ ëˆŒëŸ¬ë³´ë©´ ë¼ìš”.</div>
  </div>

  <div class="card">
    <div class="board" id="board"></div>
  </div>

  <div class="card" style="font-size:12px;color:var(--muted); line-height:1.6;">
    í•˜ë£¨ë§ˆìŒì€ ëˆˆì— ì˜ ë³´ì´ê³  ì¡°ì‘ì´ ì‰¬ìš´ ì¸ì§€ ìê·¹ ë‘ë‡Œ ë†€ì´ ì„œë¹„ìŠ¤ì…ë‹ˆë‹¤.<br/>
    í•˜ë£¨ë§ˆìŒ Â· harumind.kr
  </div>

</div>

<!-- âœ… ë°©ë²• ë³´ê¸° ëª¨ë‹¬ -->
<div id="modalBack" role="dialog" aria-modal="true" aria-label="ë°©ë²• ë³´ê¸°">
  <div id="modalCard">
    <div class="modalTitle">ë°©ë²• ë³´ê¸°</div>
    <div class="modalBody">
      <div class="modalStep"><div class="modalNum">1</div><div>ì¹´ë“œë¥¼ ëˆŒëŸ¬ì„œ ê·¸ë¦¼ì„ í™•ì¸í•´ìš”.</div></div>
      <div class="modalStep"><div class="modalNum">2</div><div>ê°™ì€ ê·¸ë¦¼ 2ê°œë¥¼ ì°¾ìœ¼ë©´ ë§ì•„ìš”.</div></div>
      <div class="modalStep"><div class="modalNum">3</div><div>í—·ê°ˆë¦¬ë©´ <b>ì ê¹ë³´ê¸°(2ì´ˆ)</b>ë¥¼ ëˆŒëŸ¬ìš”.</div></div>
      <div class="modalStep"><div class="modalNum">4</div><div>ë‹¤ì‹œ í•˜ë ¤ë©´ <b>ìƒˆë¡œ ì‹œì‘</b>ì„ ëˆŒëŸ¬ìš”.</div></div>
      <div style="margin-top:10px;color:var(--muted);font-size:12px;">
        * ì²œì²œíˆ í•´ë„ ê´œì°®ì•„ìš” ğŸ™‚ 
      </div>
    </div>
    <div class="modalActions">
      <button id="modalCloseBtn" type="button">ë‹«ê¸°</button>
    </div>
  </div>
</div>

<!-- âœ… ë°°ê²½ìŒì•… ì˜¤ë””ì˜¤ íƒœê·¸ (ë¡œì§ì€ ui.jsë¡œ ì´ë™) -->
<audio id="bgm"
       src="https://harumind.kr/memory/assets/audio/bgm.mp3"
       loop
       preload="auto"
       playsinline></audio>

<!-- âœ… ëª¨ë°”ì¼ ì„¤ì • í† ê¸€ ìŠ¤í¬ë¦½íŠ¸ (ui.js/game.jsì™€ ì¶©ëŒ ì—†ìŒ) -->
<script>
(function(){
  const settingsBtn = document.getElementById("settingsBtn");
  const group = document.getElementById("settingsGroup");
  if(!settingsBtn || !group) return;

  const mq = window.matchMedia("(max-width:520px)");

  function syncForViewport(){
    if(mq.matches){
      // ëª¨ë°”ì¼: ê¸°ë³¸ ë‹«í˜
      group.classList.add("isClosed");
      settingsBtn.setAttribute("aria-expanded", "false");
      settingsBtn.setAttribute("aria-label", "ì„¤ì • ì—´ê¸°");
    }else{
      // PC: í•­ìƒ ì—´ë¦¼(ì„¤ì •ë²„íŠ¼ì€ CSSë¡œ ìˆ¨ê¹€)
      group.classList.remove("isClosed");
      settingsBtn.setAttribute("aria-expanded", "false");
      settingsBtn.setAttribute("aria-label", "ì„¤ì •");
    }
  }

  settingsBtn.addEventListener("click", function(){
    const closed = group.classList.toggle("isClosed");
    settingsBtn.setAttribute("aria-expanded", String(!closed));
    settingsBtn.setAttribute("aria-label", closed ? "ì„¤ì • ì—´ê¸°" : "ì„¤ì • ë‹«ê¸°");
  });

  if(mq.addEventListener){
    mq.addEventListener("change", syncForViewport);
  }else if(mq.addListener){
    mq.addListener(syncForViewport);
  }

  syncForViewport();
})();
</script>

<!-- ìˆœì„œ ì¤‘ìš” -->
<script src="./config.js"></script>
<script src="./storage.js"></script>
<script src="./ui.js"></script>
<script src="./game.js"></script>

</body>
</html>
