<!doctype html>
<html lang="ko">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />

<!-- ë„¤ì´ë²„ ì‚¬ì´íŠ¸ ì†Œìœ í™•ì¸ -->
<meta name="naver-site-verification" content="9a17421f3eca307a085f00983e810d49b7172fdd" />

<title>ê°™ì€ ê·¸ë¦¼ ì°¾ê¸° ê²Œì„ | í•˜ë£¨ë§ˆìŒ ì¸ì§€ìê·¹ ë‘ë‡Œë†€ì´</title>

<meta name="description"
      content="ëˆ„êµ¬ë‚˜ í¸í•˜ê²Œ ì¦ê¸¸ ìˆ˜ ìˆëŠ” ê°™ì€ ê·¸ë¦¼ ì°¾ê¸° ì¸ì§€ ìê·¹ ê²Œì„ì…ë‹ˆë‹¤. í•˜ë£¨ 5ë¶„ ë‘ë‡Œë†€ì´ë¡œ ì§‘ì¤‘ë ¥ê³¼ ê¸°ì–µë ¥ì„ ìê·¹í•´ë³´ì„¸ìš”." />

<!-- Open Graph (ì¹´í†¡/ë„¤ì´ë²„ ê³µìœ ìš©) -->
<meta property="og:type" content="website" />
<meta property="og:site_name" content="í•˜ë£¨ë§ˆìŒ" />
<meta property="og:title" content="ê°™ì€ ê·¸ë¦¼ ì°¾ê¸° ê²Œì„ | í•˜ë£¨ë§ˆìŒ ì¸ì§€ìê·¹ ë‘ë‡Œë†€ì´" />
<meta property="og:description" content="ëˆ„êµ¬ë‚˜ í¸í•˜ê²Œ ì¦ê¸¸ ìˆ˜ ìˆëŠ” ê°™ì€ ê·¸ë¦¼ ì°¾ê¸° ì¸ì§€ ìê·¹ ê²Œì„ì…ë‹ˆë‹¤. í•˜ë£¨ 5ë¶„ ë‘ë‡Œë†€ì´ë¡œ ì§‘ì¤‘ë ¥ê³¼ ê¸°ì–µë ¥ì„ ìê·¹í•´ë³´ì„¸ìš”." />
<meta property="og:url" content="https://harumind.kr/memory/" />
<meta property="og:image" content="https://harumind.kr/og.png" />
<meta property="og:image:width" content="1200" />
<meta property="og:image:height" content="630" />

<!-- Twitter Card -->
<meta name="twitter:card" content="summary_large_image" />
<meta name="twitter:image" content="https://harumind.kr/og.png" />
<meta name="twitter:title" content="ê°™ì€ ê·¸ë¦¼ ì°¾ê¸° ê²Œì„ | í•˜ë£¨ë§ˆìŒ" />
<meta name="twitter:description" content="í•˜ë£¨ 5ë¶„, ê°™ì€ ê·¸ë¦¼ ì°¾ê¸° ë‘ë‡Œë†€ì´. ëˆ„êµ¬ë‚˜ ì‰½ê²Œ ì‹œì‘í•´ìš”." />

<!-- Google Analytics 4 (í•„ìš” ì—†ìœ¼ë©´ ì‚­ì œ ê°€ëŠ¥) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-JX8PENN22H"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-JX8PENN22H');
</script>

<!-- âœ… CSS ë¶„ë¦¬ -->
<link rel="stylesheet" href="./style.css">

</head>

<body>
<div class="wrap">

  <div class="card">

    <!-- ì œëª© / ì„¤ì •(ëª¨ë°”ì¼ë§Œ ë³´ì„) -->
    <div class="titleRow">
      <div class="title">ê°™ì€ ê·¸ë¦¼ ì°¾ê¸°</div>

      <button id="settingsBtn" type="button" aria-expanded="false" aria-label="ì„¤ì • ì—´ê¸°">
        âš™ï¸ <span class="btnText">ì„¤ì •</span> <span class="chev">âˆ¨</span>
      </button>
    </div>

    <div class="sub">ê°™ì€ ê·¸ë¦¼ 2ê°œë¥¼ ì²œì²œíˆ ì°¾ì•„ë³´ì„¸ìš” ğŸ™‚</div>

    <!-- ì„¤ì • íŒ¨ë„ (PC í•­ìƒ ë³´ì„ / ëª¨ë°”ì¼ì€ ì„¤ì • ë²„íŠ¼ìœ¼ë¡œ í† ê¸€) -->
    <div class="settingsPanel" id="settingsPanel">
      <button id="sfxBtn" type="button">ğŸ”” íš¨ê³¼ìŒ</button>
      <button id="bigBtn" type="button">ğŸ” í° ê¸€ì”¨</button>
      <button id="bgmBtn" type="button">ğŸµ ë°°ê²½ìŒì•…</button>
    </div>

    <!-- ì»¨íŠ¸ë¡¤ (ì¡°ì‘ ë²„íŠ¼ë§Œ ë‚¨ê¹€) -->
    <div class="controls">
      <select id="level" title="ë‚œì´ë„ ì„ íƒ">
        <option value="2x2">ì‰¬ì›€ (2x2)</option>
        <option value="3x2" selected>ë³´í†µ (3x2)</option>
        <option value="4x3">ì–´ë ¤ì›€ (4x3)</option>
      </select>

      <button class="primary" id="newGame">ìƒˆë¡œ ì‹œì‘</button>
      <button id="peekBtn" type="button" title="ì¹´ë“œë¥¼ 2ì´ˆ ë™ì•ˆ ë³´ì—¬ì¤˜ìš”">ğŸ‘€ ì ê¹ë³´ê¸° (2ì´ˆ)</button>
      <button id="howBtn" type="button">ë°©ë²• ë³´ê¸°</button>
    </div>

    <select id="peekSec" style="display:none">
      <option value="2">2</option>
    </select>

    <div style="display:none"><span id="todayKey"></span></div>
  </div>

  <!-- âœ… ë©”ì‹œì§€ ì¹´ë“œ -->
  <div class="card messageCard">
    <div id="msg">ì¹´ë“œë¥¼ ëˆŒëŸ¬ì„œ ì‹œì‘í•´ìš” ğŸ™‚</div>
    <div id="hint">ì²˜ìŒì—” ì²œì²œíˆ ëˆŒëŸ¬ë³´ë©´ ë¼ìš”.</div>

    <!-- âœ… 'ë§ì¶˜ ê°œìˆ˜ / ì§€ê¸ˆ ì ìˆ˜'ë§Œ í‘œì‹œ (ID ìœ ì§€) -->
    <div class="statsArea">
      <div class="stats">
        <div class="pill live"><span>ë§ì¶˜ ê°œìˆ˜</span> <b id="matched">0</b></div>
        <div class="pill live"><span>ì§€ê¸ˆ ì ìˆ˜</span> <b id="score">0</b></div>
      </div>
    </div>
  </div>

  <div class="card">
    <div class="board" id="board"></div>
  </div>

  <div class="card" style="font-size:12px;color:var(--muted); line-height:1.6;">
    í•˜ë£¨ë§ˆìŒì€ ëˆˆì— ì˜ ë³´ì´ê³  ì¡°ì‘ì´ ì‰¬ìš´ ì¸ì§€ ìê·¹ ë‘ë‡Œ ë†€ì´ ì„œë¹„ìŠ¤ì…ë‹ˆë‹¤.<br/>
    í•˜ë£¨ë§ˆìŒ Â· harumind.kr
  </div>

</div>

<div id="modalBack" role="dialog" aria-modal="true" aria-label="ë°©ë²• ë³´ê¸°">
  <div id="modalCard">
    <div class="modalTitle">ë°©ë²• ë³´ê¸°</div>
    <div class="modalBody">
      <div class="modalStep"><div class="modalNum">1</div><div>ì¹´ë“œë¥¼ ëˆŒëŸ¬ì„œ ê·¸ë¦¼ì„ í™•ì¸í•´ìš”.</div></div>
      <div class="modalStep"><div class="modalNum">2</div><div>ê°™ì€ ê·¸ë¦¼ 2ê°œë¥¼ ì°¾ìœ¼ë©´ ë§ì•„ìš”.</div></div>
      <div class="modalStep"><div class="modalNum">3</div><div>í—·ê°ˆë¦¬ë©´ <b>ì ê¹ë³´ê¸°(2ì´ˆ)</b>ë¥¼ ëˆŒëŸ¬ìš”.</div></div>
      <div class="modalStep"><div class="modalNum">4</div><div>ë‹¤ì‹œ í•˜ë ¤ë©´ <b>ìƒˆë¡œ ì‹œì‘</b>ì„ ëˆŒëŸ¬ìš”.</div></div>
      <div style="margin-top:10px;color:var(--muted);font-size:12px;">
        * ì²œì²œíˆ í•´ë„ ê´œì°®ì•„ìš” ğŸ™‚
      </div>
    </div>
    <div class="modalActions">
      <button id="modalCloseBtn" type="button">ë‹«ê¸°</button>
    </div>
  </div>
</div>

<audio id="bgm"
       src="https://harumind.kr/memory/assets/audio/bgm.mp3"
       loop
       preload="auto"
       playsinline></audio>

<!-- âœ… ì„¤ì • í† ê¸€ë§Œ index.htmlì—ì„œ ì²˜ë¦¬ -->
<script>
(function(){
  const settingsBtn = document.getElementById("settingsBtn");
  const settingsPanel = document.getElementById("settingsPanel");
  const mq = window.matchMedia("(max-width:520px)");

  function setMobileOpen(open){
    if(!settingsPanel || !settingsBtn) return;
    if(open){
      settingsPanel.classList.remove("isClosed");
      settingsBtn.classList.add("isOpen");
      settingsBtn.setAttribute("aria-expanded","true");
      settingsBtn.setAttribute("aria-label","ì„¤ì • ë‹«ê¸°");
    }else{
      settingsPanel.classList.add("isClosed");
      settingsBtn.classList.remove("isOpen");
      settingsBtn.setAttribute("aria-expanded","false");
      settingsBtn.setAttribute("aria-label","ì„¤ì • ì—´ê¸°");
    }
  }

  function syncViewport(){
    if(!settingsPanel) return;

    if(mq.matches){
      // ëª¨ë°”ì¼: ê¸°ë³¸ ë‹«í˜
      settingsPanel.classList.add("isClosed");
      if(settingsBtn){
        settingsBtn.classList.remove("isOpen");
        settingsBtn.setAttribute("aria-expanded","false");
        settingsBtn.setAttribute("aria-label","ì„¤ì • ì—´ê¸°");
      }
    }else{
      // PC: í•­ìƒ ì—´ë¦¼ (ì„¤ì • ë²„íŠ¼ì€ CSSë¡œ ì•ˆ ë³´ì„)
      settingsPanel.classList.remove("isClosed");
    }
  }

  if(settingsBtn){
    settingsBtn.addEventListener("click", function(){
      if(!mq.matches) return;
      const isClosed = settingsPanel.classList.contains("isClosed");
      setMobileOpen(isClosed);
    });
  }

  if(mq.addEventListener) mq.addEventListener("change", syncViewport);
  else if(mq.addListener) mq.addListener(syncViewport);

  syncViewport();
})();
</script>

<script src="./config.js"></script>
<script src="./storage.js"></script>
<script src="./ui-core.js"></script>
<script src="./ui-toast.js"></script>
<script src="./ui-extras.js"></script>
<script src="./game.js"></script>

</body>
</html>
