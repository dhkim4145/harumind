<!doctype html>
<html lang="ko">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>í•˜ë£¨ë§ˆìŒ - ê°™ì€ ê·¸ë¦¼ ì°¾ê¸°</title>

<style>
:root{
  --bg:#0b1020;
  --text:#e8ecff;
  --muted:#b9c2ff;
  --accent:#6ee7b7;
  --shadow:0 10px 25px rgba(0,0,0,.35);
  --radius:18px;

  /* ê¸°ë³¸ í¬ê¸°(ì¡°ì ˆìš©) */
  --fs-base:16px;
  --fs-title:20px;
  --fs-msg:18px;
  --fs-hint:14px;
  --fs-pill:14px;
  --tile-h:90px;
  --tile-fs:42px;
  --gap:12px;
}
*{box-sizing:border-box;}
body{
  margin:0;
  font-family: system-ui,-apple-system,Segoe UI,Roboto,"Noto Sans KR",sans-serif;
  background: radial-gradient(1200px 800px at 30% 10%, #1b2457 0%, var(--bg) 55%, #050813 100%);
  color:var(--text);
  display:flex;
  justify-content:center;
  padding:18px;
  font-size:var(--fs-base);
}

/* âœ… í° ê¸€ì”¨ ëª¨ë“œ */
body.bigText{
  --fs-base:18px;
  --fs-title:24px;
  --fs-msg:22px;
  --fs-hint:16px;
  --fs-pill:16px;
  --tile-h:104px;
  --tile-fs:52px;
  --gap:14px;
}

.wrap{
  width:min(560px,100%);
  display:flex;
  flex-direction:column;
  gap:14px;
}
.card{
  background: linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,.03));
  border:1px solid rgba(255,255,255,.08);
  border-radius:var(--radius);
  box-shadow:var(--shadow);
  padding:16px;
}
.titleRow{
  display:flex;
  justify-content:space-between;
  align-items:center;
}
.title{font-size:var(--fs-title);font-weight:900;}
.ver{font-size:12px;color:var(--muted);}
.sub{font-size:14px;color:var(--muted);margin-top:4px;}

.stats{
  display:flex;gap:10px;flex-wrap:wrap;margin-top:10px;
}
.pill{
  background:rgba(255,255,255,.07);
  border:1px solid rgba(255,255,255,.12);
  border-radius:999px;
  padding:6px 12px;
  font-size:var(--fs-pill);
}

.controls{
  display:flex;gap:10px;flex-wrap:wrap;margin-top:12px;
}
button,select{
  font-size:16px;
  border-radius:999px;
  border:1px solid rgba(255,255,255,.15);
  background:rgba(255,255,255,.08);
  color:var(--text);
  padding:10px 14px;
  cursor:pointer;
}
button.primary{
  background:rgba(110,231,183,.18);
  border-color:rgba(110,231,183,.45);
}

#msg{font-size:var(--fs-msg);font-weight:900;}
#hint{font-size:var(--fs-hint);color:var(--muted);margin-top:4px;}

.board{display:grid;gap:var(--gap);}
.tile{
  height:var(--tile-h);
  border-radius:18px;
  background:linear-gradient(180deg, rgba(255,255,255,.08), rgba(255,255,255,.03));
  border:1px solid rgba(255,255,255,.12);
  display:flex;
  align-items:center;
  justify-content:center;
  font-size:var(--tile-fs);
  cursor:pointer;
  user-select:none;
  position:relative;
}
.tile[data-state="down"]::after{content:"?";font-weight:900;}
.tile[data-state="up"]::after{content:attr(data-emoji);}
.tile.matched{
  border-color:var(--accent);
  box-shadow:0 0 0 2px rgba(110,231,183,.35) inset;
}

/* ë°©ë²• ë³´ê¸° íŒì—… */
.modalBack{
  position:fixed; inset:0;
  background:rgba(0,0,0,.7);
  display:none;
  align-items:center;
  justify-content:center;
  z-index:50;
}
.modal{
  background:#1a2250;
  border-radius:18px;
  padding:20px;
  max-width:520px;
}
.modalTitle{font-size:20px;font-weight:900;}
.modalBody{
  margin-top:12px;
  font-size:18px;
  line-height:1.85;
  color:#eef2ff;
}

/* âœ… ë§ì·„ì„ ë•Œ ë³´ìƒ ì—°ì¶œ */
.reward{
  position:fixed;
  font-size:22px;
  font-weight:900;
  color:var(--accent);
  pointer-events:none;
  animation: rewardPop 0.9s ease-out forwards;
  text-shadow:0 2px 8px rgba(0,0,0,.45);
  z-index:70;
}
@keyframes rewardPop{
  0%   { opacity:0; transform:translate(-50%, 10px) scale(0.6); }
  30%  { opacity:1; transform:translate(-50%, 0) scale(1.15); }
  100% { opacity:0; transform:translate(-50%, -18px) scale(1); }
}

/* âœ… ì™„ë£Œ íŒì—… (ìë™ ë‹«í˜ ì—†ìŒ) */
.finishBack{
  position:fixed; inset:0;
  background:rgba(0,0,0,.45);
  z-index:90;
  opacity:0;
  animation: dimIn 0.35s ease-out forwards;
}
.finishCard{
  position:fixed;
  left:50%; top:26%;
  transform:translateX(-50%);
  z-index:100;

  width:min(440px, calc(100% - 36px));
  background:#1a2250;
  border:1px solid rgba(110,231,183,.55);
  border-radius:22px;
  box-shadow:0 18px 48px rgba(0,0,0,.55);
  padding:18px 20px;
  text-align:center;

  opacity:0;
  animation: cardIn 0.38s ease-out forwards;
}
.finishCard .big{font-size:22px;font-weight:900;}
.finishCard .small{
  margin-top:8px;
  font-size:14px;
  color:var(--muted);
  line-height:1.6;
}
.finishCard .actions{
  margin-top:14px;
  display:flex;
  justify-content:center;
  gap:10px;
  flex-wrap:wrap;
}
.finishCard .actions button{
  font-size:16px;
  border-radius:999px;
  border:1px solid rgba(110,231,183,.45);
  background:rgba(110,231,183,.18);
  color:var(--text);
  padding:10px 14px;
  cursor:pointer;
}
@keyframes dimIn{from{opacity:0;}to{opacity:1;}}
@keyframes cardIn{
  0%{opacity:0; transform:translateX(-50%) translateY(14px) scale(.96);}
  100%{opacity:1; transform:translateX(-50%) translateY(0) scale(1);}
}
</style>
</head>

<body>
<div class="wrap">

  <div class="card">
    <div class="titleRow">
      <div class="title">ê°™ì€ ê·¸ë¦¼ ì°¾ê¸°</div>
      <div class="ver">v1.36 (ë¶„ë¦¬êµ¬ì¡°)</div>
    </div>
    <div class="sub">ê°™ì€ ê·¸ë¦¼ 2ê°œë¥¼ ì°¾ì•„ë³´ì„¸ìš”. ì²œì²œíˆ í•´ë„ ê´œì°®ì•„ìš”.</div>

    <div class="stats">
      <div class="pill">ì˜¤ëŠ˜ì˜ ê²Œì„ <b id="todayKey"></b></div>
      <div class="pill">ë§ì¶˜ ê°œìˆ˜ <b id="matched">0</b></div>
      <div class="pill">ì¹­ì°¬ì ìˆ˜ <b id="score">0</b></div>
      <div class="pill">ì˜¤ëŠ˜ ì™„ë£Œ <b id="todayClear">0</b>íšŒ</div>
      <div class="pill">ì˜¤ëŠ˜ ìµœê³  <b id="todayBest">0</b>ì </div>
    </div>

    <div class="controls">
      <select id="level" title="ë‚œì´ë„ ì„ íƒ">
        <option value="2x2">ì‰¬ì›€ (2x2)</option>
        <option value="3x2" selected>ë³´í†µ (3x2)</option>
        <option value="4x3">ì–´ë ¤ì›€ (4x3)</option>
      </select>

      <select id="peekSec" title="ì ê¹ë³´ê¸° ì‹œê°„(ì„ íƒí•˜ë©´ ì‹¤í–‰)">
        <option value="" selected disabled>ì ê¹ë³´ê¸° (ì„ íƒ)</option>
        <option value="2">ì ê¹ë³´ê¸° 2ì´ˆ</option>
        <option value="3">ì ê¹ë³´ê¸° 3ì´ˆ</option>
        <option value="5">ì ê¹ë³´ê¸° 5ì´ˆ</option>
      </select>

      <button class="primary" id="newGame">ìƒˆë¡œ ì‹œì‘</button>
      <button id="howBtn">ë°©ë²• ë³´ê¸°</button>
      <button id="sfxBtn" title="íš¨ê³¼ìŒ ì¼œê¸°/ë„ê¸°">ğŸ”” íš¨ê³¼ìŒ: ì¼œê¸°</button>
      <button id="bigBtn" title="ê¸€ì/ë²„íŠ¼ í¬ê²Œ">ğŸ” í° ê¸€ì”¨: ë„ê¸°</button>
    </div>
  </div>

  <div class="card">
    <div id="msg">ê°™ì€ ê·¸ë¦¼ 2ê°œë¥¼ ì°¾ì•„ë³´ì„¸ìš”!</div>
    <div id="hint">íŒ: ë„ˆë¬´ ë¹¨ë¦¬ ëˆ„ë¥´ì§€ ì•Šì•„ë„ ë¼ìš”.</div>
  </div>

  <div class="card">
    <div class="board" id="board"></div>
  </div>

  <div class="card" style="font-size:12px;color:var(--muted);">
    ë³¸ ì„œë¹„ìŠ¤ëŠ” ì˜ë£Œ í–‰ìœ„ê°€ ì•„ë‹ˆë©°, ì¸ì§€ ìê·¹ì„ ìœ„í•œ ë†€ì´ì…ë‹ˆë‹¤.<br/>
    í•˜ë£¨ë§ˆìŒ Â· harumind.kr
  </div>

</div>

<div class="modalBack" id="modalBack">
  <div class="modal">
    <div class="modalTitle">ê²Œì„ ë°©ë²•</div>
    <div class="modalBody">
      1) ë¬¼ìŒí‘œ(?) ì¹´ë“œë¥¼ ëˆŒëŸ¬ ê·¸ë¦¼ì„ í™•ì¸í•´ìš”.<br/>
      2) ê°™ì€ ê·¸ë¦¼ 2ê°œë¥¼ ì°¾ìœ¼ë©´ ì„±ê³µì´ì—ìš”.<br/>
      3) í‹€ë ¤ë„ ê´œì°®ì•„ìš” ğŸ˜Š ë‹¤ì‹œ í•´ë³´ë©´ ë©ë‹ˆë‹¤.<br/><br/>
      ì²˜ìŒì—” <b>ì‰¬ì›€(2x2)</b>ì´ ì¢‹ì•„ìš”.<br/>
      í•˜ë£¨ì— í•œ ë²ˆë§Œ í•´ë„ ì¶©ë¶„í•´ìš”.
    </div>
    <button style="margin-top:14px;" onclick="HarumindUI.closeModal()">ë‹«ê¸°</button>
  </div>
</div>

<!-- ìˆœì„œ ì¤‘ìš”: config â†’ storage â†’ ui â†’ game -->
<script src="./config.js"></script>
<script src="./storage.js"></script>
<script src="./ui.js"></script>
<script src="./game.js"></script>
</body>
</html>

